---
layout: post
title: 《网络是怎样连接的》
category: 读书笔记
tags: web
description: 读书笔记
---
# 网络是怎样连接的

## 概况
1. web浏览器
浏览器委托操作系统中的网络控制软件(协议栈)将消息发给服务器
2. 协议栈、网卡
协议栈将浏览器接收到的消息打包，加上目的地址等控制信息。
然后协议栈将包交给网卡，网卡将包转换成电信号发送出去。
3. 集线器、交换机、路由器
假如客户端的计算机连接家庭或公司的局域网，再通过ADSL和FTTH接入互联网。
这样网卡发送的包就会经过交换器等设备，到达用来接入互联网的路由器，路由器之后是互联网，网络运营商会负责将包送到目的地。 
4. 接入网、网络运营商
从路由器出发进入了互联网的内部，互联网的入口线路称为接入网(电话线、ISDN、ADSL、有线电视、光纤、专线)，连接到签约的网络运营商，并介入称为接入点(PoP)的设备
接入点的实体是一台专为运营商设计的路由器(离家最近的邮局),接入点后面就是互联网的骨干
在骨干网中存在大量的路由器，相互连接，组成一张巨大的网
运营商使用的路由器的基本原理和家庭、公司中的是相同的，也就是说，无论是在哪里，包都是以相同的方式传输的。
5. 防火墙、缓存服务器
通过骨干网，包到达了Web服务器所在的局域网中。接着，会遇到防火墙，检查。
还可能会遇到缓存服务器，如果缓存服务器里面有的话就不用劳烦Web服务器。
在大型网站中，还可能通过配备将消息分布到多台Web服务器上的负载均衡器，还有可能会使用通过分布在整个互联网中的缓存服务器来分发内容的服务。
6. Web服务器
包到达Web服务器后，数据会被解包还原成原始的请求消息，交个Web服务器程序。和客户端一样，这个操作也是由操作系统的协议栈来完成的。

## 第一章  浏览器生成消息
### 生成HTTP请求消息
####从输入网址开始
> 网址: URL(uniform resource locator), 统一资源定位符 
第一部分："http://" "ftp://" "file://" "mailto://" 表示浏览器应当使用的访问方法
在访问Web服务器和FTP服务器时，URL中包含服务器的域名和要访问文件的路径名; 发送邮件时则要包含邮件地址; 此外根据需要添加用户名，密码，端口号等内容
`http://user:password@www.glasscom.com:80/dir/file.htm`
访问方法 + 账号密码(可省略) + 域名 + 端口号(可省略) + 文件的路径名
####浏览器先要解析URL
